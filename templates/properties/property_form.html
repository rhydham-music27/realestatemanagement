{% extends 'base.html' %}
{% load static %}

{% block title %}{{ form_title }} - Real Estate Management{% endblock %}

{% block content %}
<div class="mb-4">
    <h1 class="h3">{{ form_title }}</h1>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'properties:property_list' %}">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{ form_title }}</li>
      </ol>
    </nav>
</div>

<div class="card">
  <div class="card-body">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="alert alert-danger">{{ form.non_field_errors }}</div>
      {% endif %}

      <div class="mb-3">
        {{ form.title.label_tag }}
        {{ form.title }}
        {% if form.title.errors %}<div class="text-danger">{{ form.title.errors }}</div>{% endif %}
      </div>

      <div class="mb-3">
        {{ form.description.label_tag }}
        {{ form.description }}
        {% if form.description.errors %}<div class="text-danger">{{ form.description.errors }}</div>{% endif %}
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          {{ form.price.label_tag }}
          <div class="input-group">
            <span class="input-group-text">$</span>
            {{ form.price }}
          </div>
          {% if form.price.errors %}<div class="text-danger">{{ form.price.errors }}</div>{% endif %}
        </div>
        <div class="col-md-6 mb-3">
          {{ form.property_type.label_tag }}
          {{ form.property_type }}
        </div>
      </div>

      <h5 class="mt-3">Location</h5>
      <div class="mb-3">{{ form.address.label_tag }}{{ form.address }}</div>
      <div class="row">
        <div class="col-md-6 mb-3">{{ form.city.label_tag }}{{ form.city }}</div>
        <div class="col-md-6 mb-3">{{ form.state.label_tag }}{{ form.state }}</div>
      </div>
      <div class="mb-3">{{ form.zipcode.label_tag }}{{ form.zipcode }}</div>

      <h5 class="mt-3">Specifications</h5>
      <div class="row">
        <div class="col-md-4 mb-3">{{ form.bedrooms.label_tag }}{{ form.bedrooms }}</div>
        <div class="col-md-4 mb-3">{{ form.bathrooms.label_tag }}{{ form.bathrooms }}</div>
        <div class="col-md-4 mb-3">{{ form.area.label_tag }}{{ form.area }}</div>
      </div>

      <h5 class="mt-3">Images</h5>
      <div class="mb-3">{{ form.featured_image.label_tag }}{{ form.featured_image }}</div>
      {% if form.instance.featured_image %}
        <div class="mb-3">
          <img src="{{ form.instance.featured_image.url }}" class="img-thumbnail" width="200" alt="Current image">
        </div>
      {% endif %}

      <div class="mt-4 d-flex gap-2">
        <button type="submit" class="btn btn-primary">{{ form_title }}</button>
        <a href="{% url 'properties:property_list' %}" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
  </div>
</div>

{% endblock %}
